<!DOCTYPE html>
<!--
  通用渲染布局（defaultLayout）。

  model/render.js 注入的模板变量：
  - _res_path: 指向插件 resources/ 的相对路径前缀
  - sys.scale: 用于截图缩放的内联 transform
  - sys.copyright: 底部版权文字
-->
<html lang="zh-cn">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <link rel="shortcut icon" href="#" />
  <link rel="preload" href="{{_res_path}}common/font/FZB.woff" as="font" type="font/woff">
  <link rel="preload" href="{{_res_path}}common/font/NZBZ.woff" as="font" type="font/woff">
  <link rel="stylesheet" type="text/css" href="{{_res_path}}common/common.css" />
  <title>zmd-plugin</title>
  {{block 'css'}}
  {{/block}}
  <style>
    .zmd-side-bg {
      position: absolute;
      inset: 0;
      z-index: 0;
      overflow: hidden;
      background: #0f1117;
      pointer-events: none;
    }

    .zmd-side-bg::before {
      content: "";
      position: absolute;
      inset: -28px;
      background-image: var(--zmd-side-bg, none);
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      transform: scale(1.08);
      filter: blur(20px) saturate(120%) brightness(0.72);
      opacity: 0;
      z-index: 0;
    }

    .zmd-side-bg::after {
      content: "";
      position: absolute;
      inset: 0;
      background-image: var(--zmd-side-bg, none);
      background-size: contain;
      background-position: center;
      background-repeat: no-repeat;
      filter: saturate(112%) contrast(106%) brightness(0.78);
      opacity: 0;
      z-index: 1;
    }

    .zmd-side-bg.has-image::before {
      opacity: 1;
    }

    .zmd-side-bg.has-image::after {
      opacity: 0.24;
    }

    .zmd-side-mask {
      position: absolute;
      inset: 0;
      background: linear-gradient(160deg, rgba(8, 12, 20, 0.64), rgba(8, 10, 14, 0.94));
      z-index: 2;
    }

    .container {
      position: relative;
      overflow: hidden;
      isolation: isolate;
    }

    .container > :not(.zmd-side-bg) {
      position: relative;
      z-index: 1;
    }
  </style>
</head>

<body class="elem-{{element||elem||`hydro`}} {{displayMode || mode || `default`}}-mode {{if bgImage}}has-side-bg{{/if}} {{bodyClass}}" {{@sys.scale}}>
  <div class="container" id="container">
    <div class="zmd-side-bg{{if bgImage}} has-image{{/if}}" {{if bgImage}}style="--zmd-side-bg:url('{{_res_path}}{{bgImage}}');"{{/if}}>
      <div class="zmd-side-mask"></div>
    </div>
    {{block 'main'}}{{/block}}
    <div class="copyright">{{@sys.copyright}}</div>
  </div>
</body>

</html>
