<!DOCTYPE html>
<!--
  通用渲染布局（skinLayout）。

  该布局会在 body 上带 `elem-*` 类，用于元素主题背景（CSS 控制）。
  主要用于 enduid/panel.html 与 enduid/gachalog.html。
-->
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <link rel="shortcut icon" href="#"/>
  <link rel="preload" href="{{_res_path}}skin/common/font/HYWH-65W.woff" as="font" type="font/woff">
  <link rel="preload" href="{{_res_path}}skin/common/font/NZBZ.woff" as="font" type="font/woff">
  <link rel="preload" href="{{_res_path}}skin/common/font/tttgbnumber.woff" as="font" type="font/woff">
  <link rel="stylesheet" type="text/css" href="{{_res_path}}skin/common/common.css"/>
  <title>zmd-plugin</title>
  {{block 'css'}}
  {{/block}}
  <style>
    .zmd-side-bg {
      position: absolute;
      inset: 0;
      z-index: 0;
      overflow: hidden;
      background: #0f1117;
      pointer-events: none;
    }

    .zmd-side-bg::before {
      content: "";
      position: absolute;
      inset: -28px;
      background-image: var(--zmd-side-bg, none);
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      transform: scale(1.08);
      filter: blur(20px) saturate(120%) brightness(0.72);
      opacity: 0;
      z-index: 0;
    }

    .zmd-side-bg::after {
      content: "";
      position: absolute;
      inset: 0;
      background-image: var(--zmd-side-bg, none);
      background-size: contain;
      background-position: center;
      background-repeat: no-repeat;
      filter: saturate(112%) contrast(106%) brightness(0.78);
      opacity: 0;
      z-index: 1;
    }

    .zmd-side-bg.has-image::before {
      opacity: 1;
    }

    .zmd-side-bg.has-image::after {
      opacity: 0.24;
    }

    .zmd-side-mask {
      position: absolute;
      inset: 0;
      background: linear-gradient(160deg, rgba(8, 12, 20, 0.62), rgba(8, 10, 14, 0.93));
      z-index: 2;
    }

    body.has-side-bg .elem-bg {
      background-image: none !important;
      background-color: rgba(10, 12, 18, 0.28);
    }

    .container {
      position: relative;
      overflow: hidden;
      isolation: isolate;
    }

    .container > :not(.zmd-side-bg) {
      position: relative;
      z-index: 1;
    }
  </style>
</head>
<body class="elem-{{element||elem||`hydro`}} {{displayMode || mode || `default`}}-mode {{if bgImage}}has-side-bg{{/if}} {{bodyClass}}" {{@sys.scale}}>
<div class="container elem-bg" id="container">
  <div class="zmd-side-bg{{if bgImage}} has-image{{/if}}" {{if bgImage}}style="--zmd-side-bg:url('{{_res_path}}{{bgImage}}');"{{/if}}>
    <div class="zmd-side-mask"></div>
  </div>
  {{block 'main'}}{{/block}}
  <div class="copyright">{{@sys.copyright}}</div>
</div>
</body>
</html>
